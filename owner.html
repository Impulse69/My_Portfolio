<!doctype html>
<html lang="en" data-theme="warning" data-mode="dark">
    <head>
        <script>
            if (!localStorage.getItem('userRole')) {
                window.location.href = 'access.html';
            }
        </script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Isaac Asamoah</title>
        <meta name="description" content="" />
        <link
            rel="shortcut icon"
            href="./assets/brand.png"
            type="image/x-icon"
        />

        <!-- Open Graph / Facebook -->
        <meta property="og:title" content="Title of the project" />
        <meta property="og:description" content="" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://github.com/Impulse69" />
        <!--Replace with the current website url-->
        <meta property="og:image" content="" />

        <!-- <link rel="stylesheet" href="../../tailwind-css/tailwind-runtime.css"> -->
        <link rel="stylesheet" href="./css/tailwind-build.css" />
        <link rel="stylesheet" href="css/index.css" />

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css"
            integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <link  href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
        <style>
        .dropdown-menu {
            background-clip: padding-box;
            background-color: var(--overlay-bgColor, #22272e);
            border: var(--borderWidth-thin, 1px) solid var(--borderColor-default, #30363d);
            border-radius: var(--borderRadius-medium, 6px);
            box-shadow: var(--shadow-floating-legacy, 0 8px 24px rgba(0,0,0,0.2));
            left: 0;
            list-style: none;
            margin-top: var(--base-size-2, 8px);
            padding: 0.5rem 0;
            position: absolute;
            top: 100%;
            width: 180px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        .dropdown-menu label,
        .dropdown-menu button {
            width: 100%;
            text-align: left;
            background: none;
            border: none;
            color: #fff;
            font-size: 1rem;
            padding: 10px 18px;
            cursor: pointer;
            transition: background 0.15s;
            border-radius: 0;
        }
        .dropdown-menu label:hover,
        .dropdown-menu button:hover {
            background: #30363d;
        }
        .dropdown-menu label {
            cursor: pointer;
        }
        .dropdown-menu button {
            cursor: pointer;
        }
        .dropdown-menu .divider {
            height: 1px;
            background: #30363d;
            margin: 2px 0;
            border: none;
        }
        /* Cropper modal styles */
        #cropper-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0; top: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
        }
        #cropper-modal.active { display: flex; }
        .cropper-container-box {
            background: #22272e;
            border-radius: 12px;
            padding: 24px 24px 16px 24px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .cropper-crop-area {
            width: 350px;
            height: 350px;
            max-width: 90vw;
            max-height: 70vh;
            position: relative;
            background: #111;
            border-radius: 12px;
            overflow: hidden;
        }
        .cropper-circle-mask {
            position: absolute;
            left: 0; top: 0; right: 0; bottom: 0;
            pointer-events: none;
            border-radius: 50%;
            box-shadow: 0 0 0 9999px rgba(0,0,0,0.5);
            border: 2px solid #fff3;
        }
        .cropper-modal-btns {
            margin-top: 18px;
            display: flex;
            gap: 12px;
            justify-content: center;
        }
        .cropper-modal-btns button {
            background: #238636;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 8px 18px;
            font-size: 1rem;
            cursor: pointer;
        }
        .cropper-modal-btns button.cancel {
            background: #6e7681;
        }
        /* Add white border and dark background for Edit and Log out buttons */
        .profile-action-btn {
            background: #161b22;
            border: 1.5px solid #fff;
            color: #fff;
            font-weight: 600;
            border-radius: 10px;
            box-shadow: 0 1.5px 4px rgba(0,0,0,0.12);
            transition: background 0.15s, border 0.15s;
            padding: 8px 20px;
        }
        .profile-action-btn:hover {
            background: #23272e;
            border-color: #fff;
        }
        .sidebar-scrollable {
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE 10+ */
        }
        .sidebar-scrollable::-webkit-scrollbar {
            display: none; /* Chrome/Safari/Webkit */
        }
        </style>
    </head>
    <body
        class="tw-flex tw-w-full tw-flex-col tw-bg-[#fff] tw-text-black dark:tw-bg-slate-800 dark:tw-text-white lg:tw-h-[100vh]"
    >
        <main
            class="tw-flex tw-h-full tw-w-full tw-overflow-hidden max-lg:tw-flex-col"
        >
            <section
                class="tw-flex tw-h-full tw-w-[450px] tw-flex-col tw-place-items-center tw-gap-4 tw-p-4 max-lg:tw-w-full lg:tw-shadow-xl lg:dark:tw-shadow-gray-600 sidebar-scrollable"
            >
                <!-- sidebar -->
                <div class="tw-flex tw-flex-col tw-items-center tw-gap-2">
                    <div class="tw-h-[250px] tw-w-[250px] tw-overflow-hidden tw-rounded-full tw-relative" id="profile-picture-frame">
                        <img
                            id="profile-picture"
                            src="./assets/images/people/man1.jpeg"
                            class="tw-h-full tw-w-full tw-object-cover"
                            alt="man"
                            srcset=""
                            style="display:block;"
                        />
                        <div id="profile-placeholder" style="display:none; position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:#23272e;">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="12" fill="#23272e"/>
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#6e7681"/>
                            </svg>
                        </div>
                    </div>
                    <div class="tw-relative tw-mt-2">
                        <button id="edit-profile-btn" type="button" class="profile-action-btn tw-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-text-sm tw-shadow tw-outline-none">
                            <i class="fa fa-pencil"></i>
                            Edit
                        </button>
                        <div id="edit-menu" class="dropdown-menu" style="display:none;">
                            <label for="profile-upload">Upload a photo...
                                <input id="profile-upload" type="file" accept="image/*" class="tw-hidden" />
                            </label>
                            <hr class="divider" />
                            <button id="remove-photo-btn" type="button">Remove photo</button>
                        </div>
                    </div>
                </div>
                <p></p>
                <p></p>
                

                <h1 class="tw-text-3xl tw-font-semibold">Isaac Asamoah</h1>

                <p
                    class="tw-mt-6 tw-max-w-[550px] tw-text-justify tw-text-gray-800 dark:tw-text-gray-300"
                >
                Isaac Asamoah 
                Currently an Intern at Office Data Ghana
                Transforming ideas into reality, one project at a time.
                Let's craft innovative solutions together!
                </p>

                <a
                    href="https://wa.me/+233245697141"
                    class="btn-primary !tw-w-full tw-max-w-[550px] tw-transition-transform tw-duration-[0.3s] hover:tw-scale-[1.02]"
                >
                    Contact me
                </a>

                <div class="tw-mt-auto tw-flex tw-flex-col tw-gap-2">
                    <h3 class="tw-text-xl">News letter</h3>
                    <form class="tw-flex tw-gap-2">
                        <input
                            type="email"
                            name=""
                            placeholder="youremail@gmail.com"
                            class="input"
                        />
                        <button type="submit" class="btn-primary">
                            Signup
                        </button>
                    </form>
                </div>
                <div class="tw-mt-4 tw-flex tw-justify-center">
                    <button id="logout-btn" class="profile-action-btn tw-px-5 tw-py-2 tw-text-base tw-shadow tw-font-semibold">
                        Log out
                    </button>
                </div>

                <div class="tw-mt-5 tw-flex tw-gap-5 tw-text-2xl">
                    <a href="https://github.com/Impulse69" class="link">
                        <i class="bi bi-github"></i>
                    </a>
                    <a href="https://wa.me/+233245697141" class="link">
                        <i class="bi bi-whatsapp"></i>
                    </a>
                    <a
                        href="https://t.me/Ghost_off_Uchiha"
                        class="link"
                    >
                        <i class="bi bi-telegram"></i>
                    </a>
                    <a href="mailto:juniorike69@gmail.com" class="link">
                        <i class="bi bi-envelope-at-fill"></i>
                    </a>
                </div>
            </section>

            <div class="tw-h-full tw-w-full tw-overflow-hidden">
                <header
                    class="tw-relative tw-flex tw-w-full tw-overflow-hidden tw-p-2 max-lg:tw-h-[150px] max-lg:tw-flex-col lg:tw-h-[80px]"
                >
                    <!-- tabs section -->
                    <div
                        class="tw-absolute tw-left-[50%] tw-top-4 tw-flex tw-h-[60px] tw-translate-x-[-50%] tw-gap-4 tw-overflow-x-auto tw-rounded-md tw-border-2 tw-border-primary tw-p-1 tw-px-4 max-md:tw-w-full md:tw-w-fit"
                    >
                        <button
                            class="tab-btn tab-active"
                            onclick="openTab(event, 'about')"
                        >
                            About
                        </button>
                        <button
                            class="tab-btn"
                            onclick="openTab(event, 'skills')"
                        >
                            Skills
                        </button>
                        <button
                            class="tab-btn"
                            onclick="openTab(event, 'experience')"
                        >
                            Experience
                        </button>
                        <button
                            class="tab-btn"
                            onclick="openTab(event, 'call')"
                        >
                            Schedule call
                        </button>
                    </div>

                    <div
                        class="tw-m-2 tw-ml-auto tw-flex tw-place-items-center tw-gap-2 max-lg:tw-mt-auto"
                    >
                        <!-- Theme switcher removed -->
                        <!--
                        <select
                            onchange="switchTheme()"
                            id="theme-selector"
                            class="input !tw-h-fit !tw-p-1 tw-text-black dark:tw-text-white"
                        >
                            <option value="primary">Primary</option>
                            <option value="warning" selected>warning</option>
                            <option value="success">success</option>
                        </select>
                        <button class="tw-w-[30px]" onclick="toggleMode()">
                            <i class="bi bi-sun-fill" id="toggle-mode-icon"></i>
                        </button>
                        -->
                    </div>
                </header>

                <!-- tab contents -->
                <div>
                    <section
                        class="tab-content tw-relative tw-flex tw-h-full tw-w-full tw-flex-col tw-overflow-hidden max-lg:tw-p-4"
                        class="tab-content tw-relative tw-flex tw-hidden tw-h-full tw-w-full tw-flex-col tw-overflow-hidden max-lg:tw-p-4"
                        data-tab-name="about"
                    >
                        <div
                            class="tw-flex tw-h-full tw-w-full tw-place-content-center tw-gap-6 tw-p-[5%] max-xl:tw-place-items-center max-lg:tw-flex-col"
                        >
                            <div
                                class="tw-flex tw-flex-col tw-place-content-center"
                            >
                                <div
                                    class="tw-text-6xl tw-font-semibold tw-leading-[80px] max-lg:tw-text-4xl max-md:tw-leading-snug"
                                >
                                    Hi 👋,
                                    <br />
                                    I am
                                    <span class="tw-text-primary">
                                        Isaac Asamoah
                                    </span>
                                </div>
                                <div
                                    class="tw-mt-4 tw-max-w-[450px] tw-p-2 tw-text-justify max-lg:tw-max-w-full"
                                >
                                Results-driven professional with expertise in Web design,
                                System builds and management, and many more IT related stuff.
                                Proven track record of delivering high-quality solutions that drive
                                growth and innovation. Collaborative approach, creative problem
                                -solving, and dedication to excellence. Explore my portfolio to discover
                                 how I can bring value to your next project
                                </div>

                                <div
                                    class="tw-mt-4 tw-flex tw-place-content-end tw-gap-4 tw-overflow-hidden tw-p-2"
                                >
                                    <a
                                        href="https://github.com/Impulse69"
                                        class="profile-action-btn tw-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-text-base tw-shadow tw-outline-none tw-transition-transform tw-duration-[0.3s] hover:tw-scale-x-[1.03]"
                                        style="background:#161b22;border:1.5px solid #fff;color:#fff;font-weight:600;border-radius:10px;box-shadow:0 1.5px 4px rgba(0,0,0,0.12);"
                                    >
                                        <span>Projects</span>
                                    </a>
                                    <a
                                        class="btn-primary tw-transition-transform tw-duration-[0.3s] hover:tw-scale-x-[1.03]"
                                        href="https://wa.me/+233245697141"
                                    >
                                        Contact
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section
                        class="tab-content tw-relative tw-flex tw-hidden tw-h-full tw-w-full tw-flex-col tw-overflow-hidden max-lg:tw-p-4"
                        data-tab-name="skills"
                    >
                        <div
                            class="tw-flex tw-h-full tw-w-full tw-flex-wrap tw-place-content-center tw-gap-6 tw-p-[5%] tw-px-[25%] max-xl:tw-place-items-center max-lg:tw-px-[10%] max-md:tw-px-2"
                        >
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML5" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>

                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/django/django-plain.svg" alt="Django" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" alt="React" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>

                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg" alt="Java" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>

                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg" alt="Next.js" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>

                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vite/vite-original.svg" alt="Vite" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/electron/electron-original.svg" alt="Electron" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/supabase/supabase-original.svg" alt="Supabase" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                            <div
                                class="tw-flex tw-h-[150px] tw-w-[150px] tw-place-content-center tw-items-center tw-rounded-lg tw-border-2 tw-border-primary tw-bg-white tw-shadow-xl"
                            >
                                <div>
                                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/firebase/firebase-plain.svg" alt="Firebase" class="tw-object-contain" style="height:90px;width:90px;" />
                                </div>
                            </div>
                        </div>
                    </section>

                    <section
                        class="tab-content tw-relative tw-flex tw-hidden tw-h-full tw-w-full tw-flex-col tw-overflow-hidden max-lg:tw-p-4"
                        data-tab-name="experience"
                        style="overflow-y: auto; max-height: 80vh;"
                    >
                        <div
                            class="tw-flex tw-h-full tw-w-full tw-flex-wrap tw-place-content-center tw-gap-6 tw-p-[5%] tw-px-[25%] max-xl:tw-place-items-center max-md:tw-px-1"
                        >
                            <div></div>

                            <div class="timeline tw-flex tw-flex-col tw-gap-5">
                                <div
                                    class="timeline-container tw-relative tw-mb-8"
                                >
                                    <div
                                        class="tw-flex tw-max-w-[550px] tw-flex-col tw-gap-2 tw-p-1 max-lg:tw-max-w-[320px]"
                                    >
                                        <h3 class="tw-text-3xl">Office Data Ghana</h3>
                                        <p
                                            class="tw-text-gray-500 dark:tw-text-gray-200"
                                        >
                                            2023- current
                                        </p>
                                        <p class="">
                                            Lorem ipsum dolor sit amet,
                                            consectetur adipisicing elit.
                                            Tempora accusantium rem modi
                                            deleniti praesentium pariatur cum
                                            aliquid ullam aperiam ut!
                                        </p>
                                    </div>
                                </div>

                                <div
                                    class="timeline-container tw-relative tw-mb-8"
                                >
                                    <div
                                        class="tw-flex tw-max-w-[550px] tw-flex-col tw-gap-2 tw-p-1 max-lg:tw-max-w-[320px]"
                                    >
                                        <h3 class="tw-text-3xl">Koforidua Technical University</h3>
                                        <p
                                            class="tw-text-gray-500 dark:tw-text-gray-200"
                                        >
                                            2020 - 2023
                                        </p>
                                        <p class="">
                                            Lorem ipsum dolor sit amet,
                                            consectetur adipisicing elit.
                                            Tempora accusantium rem modi
                                            deleniti praesentium pariatur cum
                                            aliquid ullam aperiam ut!
                                        </p>
                                    </div>
                                </div>

                                <div
                                    class="timeline-container tw-relative tw-mb-8"
                                >
                                    <div
                                        class="tw-flex tw-max-w-[550px] tw-flex-col tw-gap-2 tw-p-1 max-lg:tw-max-w-[320px]"
                                    >
                                        <h3 class="tw-text-3xl">Google</h3>
                                        <p
                                            class="tw-text-gray-500 dark:tw-text-gray-200"
                                        >
                                            2018 - 2020
                                        </p>
                                        <p class="">
                                            Lorem ipsum dolor sit amet,
                                            consectetur adipisicing elit.
                                            Tempora accusantium rem modi
                                            deleniti praesentium pariatur cum
                                            aliquid ullam aperiam ut!
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section
                        class="tab-content tw-relative tw-flex tw-hidden tw-h-full tw-w-full tw-flex-col tw-overflow-hidden max-lg:tw-p-2"
                        data-tab-name="call"
                        style="overflow-y: auto; max-height: 80vh;"
                    >
                        <div
                            class="tw-flex tw-h-full tw-w-full tw-flex-wrap tw-place-content-center tw-gap-6 tw-p-4 max-xl:tw-place-items-center"
                        >
                        <iframe src="https://koalendar.com/e/meet-with-mr-isaac?embed=true" width="100%" height="800px" frameborder="0"></iframe>
                        </div>
                    </section>
                </div>

                <footer
                    class="tw-mt-auto tw-flex tw-w-full tw-place-content-around tw-gap-3 tw-p-[5%] tw-px-[10%] tw-text-black max-md:tw-flex-col"
                ></footer>
            </div>
        </main>

        <!-- Cropper Modal -->
        <div id="cropper-modal">
            <div class="cropper-container-box">
                <div class="cropper-crop-area">
                    <img id="cropper-image" style="max-width:100%; display:block;" />
                    <div class="cropper-circle-mask"></div>
                </div>
                <div class="cropper-modal-btns">
                    <button id="cropper-confirm">Crop & Save</button>
                    <button class="cancel" id="cropper-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </body>

    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/gsap.min.js"
        integrity="sha512-B1lby8cGcAUU3GR+Fd809/ZxgHbfwJMp0jLTVfHiArTuUt++VqSlJpaJvhNtRf3NERaxDNmmxkdx2o+aHd4bvw=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    ></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/ScrollTrigger.min.js"
        integrity="sha512-AY2+JxnBETJ0wcXnLPCcZJIJx0eimyhz3OJ55k2Jx4RtYC+XdIi2VtJQ+tP3BaTst4otlGG1TtPJ9fKrAUnRdQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    ></script>

    <script src="./index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <script>
        // Profile picture logic for owner (GitHub-like menu)
        const profileImg = document.getElementById('profile-picture');
        const editBtn = document.getElementById('edit-profile-btn');
        const editMenu = document.getElementById('edit-menu');
        const profileUpload = document.getElementById('profile-upload');
        const removePhotoBtn = document.getElementById('remove-photo-btn');
        const defaultProfile = './assets/images/people/man1.jpeg';

        // Load custom profile picture if set
        const savedProfile = localStorage.getItem('profilePicture');
        if (savedProfile) {
            profileImg.src = savedProfile;
        }

        let menuOpen = false;

        editBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            menuOpen = !menuOpen;
            editMenu.style.display = menuOpen ? 'flex' : 'none';
        });

        // Close menu on outside click or after action
        function closeMenu() {
            menuOpen = false;
            editMenu.style.display = 'none';
        }
        document.addEventListener('click', function(e) {
            if (menuOpen && !editMenu.contains(e.target) && e.target !== editBtn) {
                closeMenu();
            }
        });

        // Also close menu after upload or remove
        profileUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type.match(/^image\/(jpeg|png|gif|jpg)$/i)) {
                const reader = new FileReader();
                reader.onload = function(evt) {
                    cropperImage.src = evt.target.result;
                    cropperModal.classList.add('active');
                    if (cropper) cropper.destroy();
                    setTimeout(() => {
                        cropper = new Cropper(cropperImage, {
                            aspectRatio: 1,
                            viewMode: 1,
                            dragMode: 'move',
                            autoCropArea: 1,
                            minCropBoxWidth: 100,
                            minCropBoxHeight: 100,
                            background: false,
                            guides: false,
                            highlight: false,
                            cropBoxResizable: true,
                            cropBoxMovable: true,
                            responsive: true,
                        });
                    }, 100);
                };
                reader.readAsDataURL(file);
            }
            closeMenu();
        });

        removePhotoBtn.addEventListener('click', function() {
            localStorage.removeItem('profilePicture');
            showProfilePlaceholder(true);
            closeMenu();
        });

        let cropper = null;
        const cropperModal = document.getElementById('cropper-modal');
        const cropperImage = document.getElementById('cropper-image');
        const cropperConfirm = document.getElementById('cropper-confirm');
        const cropperCancel = document.getElementById('cropper-cancel');

        cropperCancel.onclick = function() {
            cropperModal.classList.remove('active');
            if (cropper) cropper.destroy();
            cropperImage.src = '';
        };

        cropperConfirm.onclick = function() {
            if (!cropper) return;
            // Get cropped canvas at 500x500
            const canvas = cropper.getCroppedCanvas({ width: 500, height: 500, imageSmoothingQuality: 'high' });
            const dataUrl = canvas.toDataURL('image/png');
            profileImg.src = dataUrl;
            localStorage.setItem('profilePicture', dataUrl);
            showProfilePlaceholder(false);
            cropperModal.classList.remove('active');
            cropper.destroy();
            cropperImage.src = '';
        };

        // Log out button logic
        const logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('userRole');
                window.location.href = 'access.html';
            });
        }

        function showProfilePlaceholder(show) {
            const img = document.getElementById('profile-picture');
            const placeholder = document.getElementById('profile-placeholder');
            if (show) {
                img.style.display = 'none';
                placeholder.style.display = 'flex';
            } else {
                img.style.display = 'block';
                placeholder.style.display = 'none';
            }
        }

        // Load custom profile picture if set, else show placeholder
        if (savedProfile) {
            profileImg.src = savedProfile;
            showProfilePlaceholder(false);
        } else {
            showProfilePlaceholder(true);
        }

        // Automatic theme cycling every 4 seconds
        (function() {
            const themes = ['primary', 'warning', 'success'];
            let idx = 0;
            setInterval(() => {
                idx = (idx + 1) % themes.length;
                document.documentElement.setAttribute('data-theme', themes[idx]);
            }, 4000);
        })();
    </script>
</html> 
